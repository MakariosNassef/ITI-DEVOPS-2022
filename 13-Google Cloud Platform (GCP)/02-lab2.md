# GCP Lab 2

### Makarios Nassef.
### Hosted by:
### Mohamed Abdelahad.

## Lab 2.1

### 1. From Cloud console, create a VPC named “auto-vpc” with auto-mode enabled, How many subnets created?
> ![image](https://user-images.githubusercontent.com/28235504/213336040-16f011d3-2f78-46b9-bb22-5d3e8828299e.png)

### 2. From Cloud console, create a VPC named “custom-vpc” with auto-mode disabled and create two subnets.
> ![image](https://user-images.githubusercontent.com/28235504/213337647-7927cd96-169d-4e8b-9211-7a31f4778c4e.png)

### 3. Using gcloud tool list all available VPCs and list subnets of each VPC.
> ![image](https://user-images.githubusercontent.com/28235504/213336886-35b01c60-d023-4122-a56a-330af10d3d29.png)

### 4. Block internet access from you VPC using firewall rules.
> ![image](https://user-images.githubusercontent.com/28235504/213339233-bdecd268-d7e0-4b63-9433-ffec52191e45.png)
> ![image](https://user-images.githubusercontent.com/28235504/213339196-fdaf17a9-bcd9-4724-b8ec-f4ac43fcd0b3.png)
 
### 5. Create a firewall rule to allow incoming SSH requests from internet to all instances in your vpc.
> ![image](https://user-images.githubusercontent.com/28235504/213339710-387de431-fdaf-4355-b92b-0d611a3b0ec8.png)

### 6. Modify the previous firewall rule to allow only ssh requests coming through Google’s IAP servers.
> ![image](https://user-images.githubusercontent.com/28235504/213339998-038d7662-6b64-4693-ac36-a5f6c4538c0d.png)


## Lab 2.2
### 1- Create a VM with public ip then:
> –In two different ways, SSH into this VM.
> –Enforce SSH into this VM to be IAP protected.

### 2- Create a VM without public ip then:
> –SSH into this vm.
> –update system packages (is it possible?)

### 3- Create a VM with public ip then:
> –SSH into this vm
> –Update system packages.
> –Setup Nginx Web Server and test your setup.
> –Create a custom image from this VM named “custom-img-nginx”.

### 4- Create MIG (min 3 and max 5) of a template using the custom image “custom-img-nginx”.

